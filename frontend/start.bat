@echo off
chcp 65001 >nul
color 0A
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo           ðŸŽ“ å­¦ç”Ÿæˆç»©ç®¡ç†ç³»ç»Ÿ - ç‚«é…·å‰ç«¯ç‰ˆ
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo [æç¤º] æ­£åœ¨æ£€æŸ¥çŽ¯å¢ƒ...
echo.

cd frontend

if not exist "node_modules" (
    echo [æ­¥éª¤ 1/3] é¦–æ¬¡è¿è¡Œï¼Œæ­£åœ¨å®‰è£…ä¾èµ–...
    call npm install
) else (
    echo [æ­¥éª¤ 1/3] âœ“ ä¾èµ–å·²å®‰è£…
)

echo.
echo [æ­¥éª¤ 2/3] å¯åŠ¨ Mock API æœåŠ¡å™¨ (ç«¯å£ 4000)...
start "Mock API Server" cmd /k "npm run server"

timeout /t 3 /nobreak >nul

echo.
echo [æ­¥éª¤ 3/3] å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ (ç«¯å£ 5173)...
timeout /t 2 /nobreak >nul
start "Frontend Dev Server" cmd /k "npm run dev"

echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo           âœ¨ æœåŠ¡å¯åŠ¨æˆåŠŸï¼
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo   å‰ç«¯ç•Œé¢: http://localhost:5173
echo   Mock API: http://localhost:4000
echo.
echo [æç¤º] æµè§ˆå™¨å°†è‡ªåŠ¨æ‰“å¼€ï¼Œè‹¥æœªæ‰“å¼€è¯·æ‰‹åŠ¨è®¿é—®ä¸Šè¿°åœ°å€
echo [æç¤º] å…³é—­æ­¤çª—å£ä¸ä¼šåœæ­¢æœåŠ¡ï¼Œè¯·æ‰‹åŠ¨å…³é—­ä¸¤ä¸ªå‘½ä»¤è¡Œçª—å£
echo.
timeout /t 5 /nobreak >nul
start http://localhost:5173

echo.
pause
