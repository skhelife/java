# ğŸ‰ æ•°æ®é—®é¢˜å®Œå…¨ä¿®å¤æŠ¥å‘Š

## é—®é¢˜è¯Šæ–­

### æ ¹æœ¬åŸå› 
`frontend/src/services/mockData.ts` ä¸­çš„ `initMockData()` å‡½æ•°**æ²¡æœ‰è¿”å›å®Œæ•´çš„æ•°æ®ç»“æ„**ï¼š

**ä¹‹å‰çš„ä»£ç ï¼ˆæœ‰é—®é¢˜ï¼‰ï¼š**
```typescript
export const initMockData = () => {
    const students = generateStudents(300)
    const grades = generateGrades(students)
    const logs = generateAuditLogs()

    return {
        students,
        grades,
        users: mockUsers,
        roles: mockRoles,
        permissions: mockPermissions,
        logs
    }
    // âŒ ç¼ºå°‘: courses, teachers, classes
}
```

### å¯¼è‡´çš„è¿é”é—®é¢˜
1. **é¦–é¡µç»Ÿè®¡**æ— æ•°æ® - `mockApi.getStats()` è®¿é—® `data.courses`ã€`data.teachers`ã€`data.classes` æ—¶éƒ½æ˜¯ `undefined`
2. **æˆç»©ç®¡ç†**ç»Ÿè®¡å¡ç‰‡ç©ºç™½ - è¯¾ç¨‹æ€»æ•°ã€æ•™å¸ˆæ€»æ•°ã€æ•™å­¦ç­æ•°éƒ½æ— æ³•è·å–
3. **ç­çº§åˆ—è¡¨**ä¸ºç©º - `data.classes` æ˜¯ `undefined`
4. **ç­çº§è¯¦æƒ…**æ— æ³•æ‰“å¼€ - ç‚¹å‡»ç­çº§æ—¶æ‰¾ä¸åˆ°courseå’Œteacherå¯¹è±¡

---

## ä¿®å¤æ–¹æ¡ˆ

### âœ… 1. å®Œå…¨é‡å†™ mockData.ts

**æ–°å¢æ•°æ®å®šä¹‰ï¼š**
```typescript
// è¯¾ç¨‹æ•°æ® - 10é—¨è¯¾ç¨‹
export const mockCourses = [
    { id: 1, courseId: 'C001', courseName: 'é«˜ç­‰æ•°å­¦A', credits: 5, department: 'æ•°å­¦ç³»' },
    { id: 2, courseId: 'C002', courseName: 'å¤§å­¦è‹±è¯­', credits: 3, department: 'å¤–è¯­ç³»' },
    { id: 3, courseId: 'C003', courseName: 'Javaç¨‹åºè®¾è®¡', credits: 4, department: 'è®¡ç®—æœºç³»' },
    // ... å…±10é—¨è¯¾ç¨‹
]

// æ•™å¸ˆæ•°æ® - 10ä½æ•™å¸ˆ
export const mockTeachers = [
    { id: 1, teacherId: 'T001', name: 'å¼ æ•™æˆ', title: 'æ•™æˆ', department: 'æ•°å­¦ç³»' },
    { id: 2, teacherId: 'T002', name: 'æå‰¯æ•™æˆ', title: 'å‰¯æ•™æˆ', department: 'å¤–è¯­ç³»' },
    // ... å…±10ä½æ•™å¸ˆ
]

// æ•™å­¦ç­æ•°æ® - 5ä¸ªç­çº§
export const mockClasses = [
    { id: 1, classId: '2023æ˜¥-C001-01', semester: '2023æ˜¥å­£', courseId: 1, teacherId: 1 },
    { id: 2, classId: '2023æ˜¥-C002-01', semester: '2023æ˜¥å­£', courseId: 2, teacherId: 2 },
    // ... å…±5ä¸ªç­çº§
]
```

**ä¿®å¤åçš„ initMockData()ï¼š**
```typescript
export const initMockData = () => {
    const students = generateStudents(300)
    const grades = generateGrades(students)
    const logs = generateAuditLogs()

    return {
        students,
        grades,
        courses: mockCourses,      // âœ… æ–°å¢
        teachers: mockTeachers,    // âœ… æ–°å¢
        classes: mockClasses,      // âœ… æ–°å¢
        users: mockUsers,
        roles: mockRoles,
        permissions: mockPermissions,
        logs
    }
}
```

### âœ… 2. æ•°æ®ç»“æ„ç°åœ¨å®Œæ•´åŒ…å«

| æ•°æ®ç±»å‹ | æ•°é‡ | è¯´æ˜ |
|---------|------|------|
| students | 300 | å­¦ç”Ÿä¿¡æ¯ |
| grades | 900+ | æˆç»©è®°å½•ï¼ˆæ¯ä¸ªå­¦ç”Ÿ3-5é—¨è¯¾ï¼‰|
| **courses** | **10** | **è¯¾ç¨‹ä¿¡æ¯ï¼ˆæ–°å¢ï¼‰** |
| **teachers** | **10** | **æ•™å¸ˆä¿¡æ¯ï¼ˆæ–°å¢ï¼‰** |
| **classes** | **5** | **æ•™å­¦ç­ä¿¡æ¯ï¼ˆæ–°å¢ï¼‰** |
| users | 18 | ç”¨æˆ·è´¦å· |
| roles | 5 | è§’è‰²å®šä¹‰ |
| permissions | 12 | æƒé™å®šä¹‰ |
| logs | 100 | å®¡è®¡æ—¥å¿— |

---

## ä¿®å¤éªŒè¯

### ç°åœ¨å¯ä»¥æ­£å¸¸æ˜¾ç¤ºçš„åŠŸèƒ½

#### 1. é¦–é¡µç»Ÿè®¡ï¼ˆHome.tsxï¼‰
```
âœ… å­¦ç”Ÿæ€»æ•°: 300
âœ… æˆç»©è®°å½•: 900+
âœ… å¹³å‡åˆ†: è®¡ç®—æ­£ç¡®
âœ… åŠæ ¼ç‡: è®¡ç®—æ­£ç¡®
```

#### 2. æˆç»©ç®¡ç†ç»Ÿè®¡ï¼ˆGradeList.tsxï¼‰- 8ä¸ªå¡ç‰‡
```
âœ… å­¦ç”Ÿæ€»æ•°: 300
âœ… æˆç»©è®°å½•: 900+
âœ… è¯¾ç¨‹æ€»æ•°: 10        ï¼ˆä¹‹å‰æ˜¾ç¤º0ï¼‰
âœ… æ•™å¸ˆæ€»æ•°: 10        ï¼ˆä¹‹å‰æ˜¾ç¤º0ï¼‰
âœ… æ•™å­¦ç­æ•°: 5         ï¼ˆä¹‹å‰æ˜¾ç¤º0ï¼‰
âœ… å¹³å‡åˆ†: è®¡ç®—æ­£ç¡®
âœ… åŠæ ¼ç‡: è®¡ç®—æ­£ç¡®
âœ… ä¼˜ç§€ç‡: è®¡ç®—æ­£ç¡®    ï¼ˆä¹‹å‰æ˜¾ç¤º0ï¼‰
```

#### 3. ç­çº§åˆ†å¸ƒï¼ˆClassDistribution.tsxï¼‰
```
âœ… ç­çº§åˆ—è¡¨æ˜¾ç¤º 5 ä¸ªç­çº§
âœ… æ¯ä¸ªç­çº§æ˜¾ç¤º:
   - ç­çº§ç¼–å·ï¼ˆå¦‚: 2023æ˜¥-C001-01ï¼‰
   - è¯¾ç¨‹åç§°ï¼ˆå¦‚: é«˜ç­‰æ•°å­¦Aï¼‰
   - ä»»è¯¾æ•™å¸ˆï¼ˆå¦‚: å¼ æ•™æˆï¼‰
   - å­¦æœŸä¿¡æ¯
   - å­¦ç”Ÿäººæ•°
   - å¹³å‡åˆ†
```

#### 4. ç­çº§è¯¦æƒ…Modal
```
âœ… ç‚¹å‡»ç­çº§å¯ä»¥æ‰“å¼€è¯¦æƒ…
âœ… æ˜¾ç¤ºå®Œæ•´çš„è¯¾ç¨‹ä¿¡æ¯ï¼ˆè¯¾ç¨‹åã€å­¦åˆ†ï¼‰
âœ… æ˜¾ç¤ºå®Œæ•´çš„æ•™å¸ˆä¿¡æ¯ï¼ˆå§“åã€èŒç§°ï¼‰
âœ… æ˜¾ç¤ºè¯¥ç­çº§çš„æ‰€æœ‰æˆç»©
```

---

## æµ‹è¯•æ­¥éª¤

### ğŸ”§ é‡è¦ï¼šå¿…é¡»æ¸…é™¤localStorage

ç”±äºä¹‹å‰çš„æ•°æ®ç»“æ„å·²ç»å­˜å‚¨åœ¨æµè§ˆå™¨ä¸­ï¼Œéœ€è¦æ¸…ç©ºåé‡æ–°åˆå§‹åŒ–ï¼š

1. **æ‰“å¼€å‰ç«¯ç³»ç»Ÿ**
   ```batch
   åŒå‡»: æµ‹è¯•ä¿®å¤åçš„æ•°æ®.bat
   æˆ–æ‰‹åŠ¨: cd frontend && npm run dev
   ```

2. **æ¸…ç©ºlocalStorageï¼ˆé‡è¦ï¼ï¼‰**
   - æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
   - åˆ‡æ¢åˆ° `Console` æ ‡ç­¾
   - è¾“å…¥å¹¶æ‰§è¡Œ:
     ```javascript
     localStorage.clear()
     ```
   - æŒ‰ `F5` åˆ·æ–°é¡µé¢

3. **ç™»å½•ç³»ç»Ÿ**
   - ç”¨æˆ·å: `admin`
   - å¯†ç : `123456`

4. **éªŒè¯ä¿®å¤æ•ˆæœ**

   a. **é¦–é¡µï¼ˆDashboardï¼‰**
   - æ£€æŸ¥4ä¸ªç»Ÿè®¡å¡ç‰‡æ˜¯å¦éƒ½æœ‰æ•°æ®
   - æ£€æŸ¥æˆç»©åˆ†å¸ƒå›¾è¡¨æ˜¯å¦æ­£å¸¸

   b. **æˆç»©ç®¡ç†**
   - æ£€æŸ¥8ä¸ªç»Ÿè®¡å¡ç‰‡
   - é‡ç‚¹æŸ¥çœ‹: è¯¾ç¨‹æ€»æ•°(10)ã€æ•™å¸ˆæ€»æ•°(10)ã€æ•™å­¦ç­æ•°(5)ã€ä¼˜ç§€ç‡
   - æ£€æŸ¥æˆç»©åˆ—è¡¨æ˜¯å¦æ­£å¸¸åˆ†é¡µæ˜¾ç¤º

   c. **ç­çº§åˆ†å¸ƒ**
   - æ£€æŸ¥æ˜¯å¦æ˜¾ç¤º5ä¸ªç­çº§
   - ç‚¹å‡»ä»»æ„ç­çº§ï¼ŒæŸ¥çœ‹è¯¦æƒ…Modal
   - ç¡®è®¤è¯¾ç¨‹åç§°å’Œæ•™å¸ˆä¿¡æ¯æ­£ç¡®æ˜¾ç¤º

   d. **ç»Ÿè®¡åˆ†æ**
   - æŸ¥çœ‹ç»Ÿè®¡å›¾è¡¨æ˜¯å¦æ­£å¸¸
   - æ£€æŸ¥æ‰€æœ‰12ä¸ªç»Ÿè®¡æŒ‡æ ‡

---

## æ–‡ä»¶å˜æ›´æ¸…å•

### ä¿®æ”¹çš„æ–‡ä»¶

1. **frontend/src/services/mockData.ts** â­ æ ¸å¿ƒä¿®å¤
   - âœ… æ–°å¢ `mockCourses` æ•°ç»„ï¼ˆ10æ¡ï¼‰
   - âœ… æ–°å¢ `mockTeachers` æ•°ç»„ï¼ˆ10æ¡ï¼‰
   - âœ… æ–°å¢ `mockClasses` æ•°ç»„ï¼ˆ5æ¡ï¼‰
   - âœ… ä¿®æ”¹ `initMockData()` è¿”å›å®Œæ•´æ•°æ®ç»“æ„
   - âœ… ä¿®æ”¹ `generateGrades()` ä½¿ç”¨å¯¼å‡ºçš„courses/classes

2. **frontend/src/services/mockApi.ts** ï¼ˆå·²ç»æ˜¯æ­£ç¡®çš„ï¼Œæ— éœ€ä¿®æ”¹ï¼‰
   - âœ… `getStats()` - è¿”å›12ä¸ªç»Ÿè®¡å­—æ®µ
   - âœ… `getClasses()` - è¿”å›åŒ…å«course/teacherçš„å®Œæ•´ç­çº§å¯¹è±¡

3. **frontend/src/pages/GradeList.tsx** ï¼ˆå·²ç»æ˜¯æ­£ç¡®çš„ï¼Œæ— éœ€ä¿®æ”¹ï¼‰
   - âœ… æ˜¾ç¤º8ä¸ªç»Ÿè®¡å¡ç‰‡
   - âœ… å¤„ç†ç­çº§è¯¦æƒ…Modal

---

## æŠ€æœ¯ç»†èŠ‚

### æ•°æ®å…³è”

```
mockClasses.courseId -> mockCourses.id
mockClasses.teacherId -> mockTeachers.id
grades.classId -> mockClasses.id
grades.studentId -> students.id
```

### APIå“åº”æ ¼å¼

```javascript
// getStats() è¿”å›
{
  success: true,
  data: {
    studentCount: 300,
    totalStudents: 300,
    teacherCount: 10,        // âœ… æ–°å¢
    courseCount: 10,         // âœ… æ–°å¢
    classCount: 5,           // âœ… æ–°å¢
    gradeCount: 900+,
    totalGrades: 900+,
    avgScore: XX.XX,
    passRate: XX.XX,
    excellentRate: XX.XX,    // âœ… æ–°å¢
    maxScore: XX.XX,
    minScore: XX.XX,
    distribution: {...}
  }
}

// getClasses() è¿”å›
{
  success: true,
  data: [
    {
      id: 1,
      classId: '2023æ˜¥-C001-01',
      semester: '2023æ˜¥å­£',
      courseId: 1,
      teacherId: 1,
      course: {              // âœ… å®Œæ•´å¯¹è±¡
        id: 1,
        courseId: 'C001',
        courseName: 'é«˜ç­‰æ•°å­¦A',
        credits: 5
      },
      teacher: {             // âœ… å®Œæ•´å¯¹è±¡
        id: 1,
        teacherId: 'T001',
        name: 'å¼ æ•™æˆ',
        title: 'æ•™æˆ'
      },
      studentCount: XX,
      avgScore: XX.XX
    },
    // ...
  ]
}
```

---

## æ€»ç»“

### âœ… å·²å®Œæˆ
- [x] è¯Šæ–­æ ¹æœ¬åŸå› ï¼šinitMockData() æ•°æ®ç»“æ„ä¸å®Œæ•´
- [x] æ·»åŠ  courses æ•°æ®ï¼ˆ10æ¡ï¼‰
- [x] æ·»åŠ  teachers æ•°æ®ï¼ˆ10æ¡ï¼‰
- [x] æ·»åŠ  classes æ•°æ®ï¼ˆ5æ¡ï¼‰
- [x] ä¿®å¤ initMockData() è¿”å›å€¼
- [x] ä¿®å¤ generateGrades() å¼•ç”¨æ­£ç¡®çš„æ•°æ®æº
- [x] åˆ›å»ºæµ‹è¯•è„šæœ¬

### ğŸ“Š é¢„æœŸæ•ˆæœ
- é¦–é¡µç»Ÿè®¡ï¼š4ä¸ªå¡ç‰‡å…¨éƒ¨æ˜¾ç¤ºæ•°æ® âœ…
- æˆç»©ç®¡ç†ï¼š8ä¸ªç»Ÿè®¡å¡ç‰‡å…¨éƒ¨æ˜¾ç¤ºæ•°æ® âœ…
- ç­çº§åˆ†å¸ƒï¼šæ˜¾ç¤º5ä¸ªç­çº§ âœ…
- ç­çº§è¯¦æƒ…ï¼šå¯ä»¥æ­£å¸¸æ‰“å¼€ï¼Œæ˜¾ç¤ºå®Œæ•´ä¿¡æ¯ âœ…
- ç»Ÿè®¡åˆ†æï¼š12ä¸ªæŒ‡æ ‡å…¨éƒ¨æ­£å¸¸ âœ…

### ğŸš€ ä¸‹ä¸€æ­¥
1. è¿è¡Œ `æµ‹è¯•ä¿®å¤åçš„æ•°æ®.bat`
2. æ¸…ç©º localStorage
3. åˆ·æ–°é¡µé¢
4. ç™»å½•æµ‹è¯•æ‰€æœ‰åŠŸèƒ½

---

## å¸¸è§é—®é¢˜

**Q: ä¸ºä»€ä¹ˆè¿˜æ˜¯çœ‹ä¸åˆ°æ•°æ®ï¼Ÿ**
A: è¯·åŠ¡å¿…æ‰§è¡Œ `localStorage.clear()` ç„¶ååˆ·æ–°é¡µé¢

**Q: ç»Ÿè®¡æ•°æ®ä¸å¯¹ï¼Ÿ**
A: æ¸…ç©ºlocalStorageåï¼Œç³»ç»Ÿä¼šé‡æ–°ç”Ÿæˆéšæœºæ•°æ®ï¼Œæ•°æ®ä¼šç•¥æœ‰ä¸åŒ

**Q: ç­çº§è¯¦æƒ…è¿˜æ˜¯æ‰“ä¸å¼€ï¼Ÿ**
A: ç¡®è®¤å·²æ¸…ç©ºlocalStorageï¼Œä¸”æŸ¥çœ‹æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

---

*ä¿®å¤æ—¶é—´: 2024*
*ä¿®å¤èŒƒå›´: Mockæ•°æ®ç³»ç»Ÿå®Œæ•´æ€§*
*å½±å“æ¨¡å—: æ‰€æœ‰å‰ç«¯é¡µé¢*
