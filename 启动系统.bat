@echo off
chcp 65001 >nul
title å­¦ç”Ÿæˆç»©ç®¡ç†ç³»ç»Ÿ - æ€»æŽ§åˆ¶å°
color 0A

:menu
cls
echo.
echo  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo  â•‘                                                        â•‘
echo  â•‘        å­¦ç”Ÿæˆç»©ç®¡ç†ç³»ç»Ÿ - æ€»æŽ§åˆ¶å° v1.0              â•‘
echo  â•‘                                                        â•‘
echo  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
echo  â”‚  [1] åˆå§‹åŒ–æ•°æ®åº“                                      â”‚
echo  â”‚  [2] å¯åŠ¨åŽç«¯æœåŠ¡ (ç«¯å£ 8080)                         â”‚
echo  â”‚  [3] å¯åŠ¨å‰ç«¯æœåŠ¡ (ç«¯å£ 5173)                         â”‚
echo  â”‚  [4] åŒæ—¶å¯åŠ¨å‰åŽç«¯ (æŽ¨è)                            â”‚
echo  â”‚  [5] æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£                                      â”‚
echo  â”‚  [6] æ£€æŸ¥çŽ¯å¢ƒä¾èµ–                                      â”‚
echo  â”‚  [0] é€€å‡º                                              â”‚
echo  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
echo.
set /p choice=  è¯·è¾“å…¥é€‰é¡¹ [0-6]: 

if "%choice%"=="1" goto init_db
if "%choice%"=="2" goto start_backend
if "%choice%"=="3" goto start_frontend
if "%choice%"=="4" goto start_all
if "%choice%"=="5" goto show_docs
if "%choice%"=="6" goto check_env
if "%choice%"=="0" goto exit
echo.
echo  âŒ æ— æ•ˆé€‰é¡¹ï¼Œè¯·é‡æ–°è¾“å…¥
timeout /t 2 >nul
goto menu

:init_db
cls
echo.
echo  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo  â•‘  åˆå§‹åŒ–æ•°æ®åº“                                          â•‘
echo  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
cd backend
call å¯¼å…¥æ•°æ®åº“.bat
cd ..
echo.
pause
goto menu

:start_backend
cls
echo.
echo  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo  â•‘  å¯åŠ¨åŽç«¯æœåŠ¡                                          â•‘
echo  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo  ðŸ“Œ åŽç«¯æœåŠ¡å°†åœ¨æ–°çª—å£å¯åŠ¨...
echo  ðŸ“Œ è®¿é—®åœ°å€: http://localhost:8080/api/
echo.
start "åŽç«¯æœåŠ¡ (Spring Boot)" cmd /k "cd backend && ä¸€é”®å¯åŠ¨åŽç«¯.bat"
timeout /t 3 >nul
goto menu

:start_frontend
cls
echo.
echo  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo  â•‘  å¯åŠ¨å‰ç«¯æœåŠ¡                                          â•‘
echo  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo  ðŸ“Œ å‰ç«¯æœåŠ¡å°†åœ¨æ–°çª—å£å¯åŠ¨...
echo  ðŸ“Œ è®¿é—®åœ°å€: http://localhost:5173/
echo.
start "å‰ç«¯æœåŠ¡ (Vite + React)" cmd /k "cd frontend && ä¸€é”®å¯åŠ¨å‰ç«¯.bat"
timeout /t 3 >nul
goto menu

:start_all
cls
echo.
echo  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo  â•‘  åŒæ—¶å¯åŠ¨å‰åŽç«¯æœåŠ¡                                    â•‘
echo  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo  ðŸ“Œ æ­£åœ¨å¯åŠ¨åŽç«¯æœåŠ¡...
start "åŽç«¯æœåŠ¡ (Spring Boot)" cmd /k "cd backend && ä¸€é”®å¯åŠ¨åŽç«¯.bat"
timeout /t 2 >nul
echo  âœ… åŽç«¯æœåŠ¡å·²åœ¨æ–°çª—å£å¯åŠ¨
echo.
echo  ðŸ“Œ æ­£åœ¨å¯åŠ¨å‰ç«¯æœåŠ¡...
start "å‰ç«¯æœåŠ¡ (Vite + React)" cmd /k "cd frontend && ä¸€é”®å¯åŠ¨å‰ç«¯.bat"
timeout /t 2 >nul
echo  âœ… å‰ç«¯æœåŠ¡å·²åœ¨æ–°çª—å£å¯åŠ¨
echo.
echo  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
echo  â”‚  âœ… æ‰€æœ‰æœåŠ¡å·²å¯åŠ¨ï¼                                   â”‚
echo  â”‚                                                        â”‚
echo  â”‚  ðŸŒ å‰ç«¯è®¿é—®åœ°å€: http://localhost:5173/              â”‚
echo  â”‚  ðŸ”Œ åŽç«¯ API åœ°å€: http://localhost:8080/api/         â”‚
echo  â”‚                                                        â”‚
echo  â”‚  ðŸ“ é»˜è®¤è´¦å·:                                          â”‚
echo  â”‚     ç®¡ç†å‘˜: admin / 123456                             â”‚
echo  â”‚     æ•™å¸ˆ  : teacher1 / 123456                          â”‚
echo  â”‚     å­¦ç”Ÿ  : student1 / 123456                          â”‚
echo  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
echo.
pause
goto menu

:show_docs
cls
echo.
echo  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo  â•‘  é¡¹ç›®æ–‡æ¡£                                              â•‘
echo  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo  ðŸ“– å¯ç”¨æ–‡æ¡£åˆ—è¡¨:
echo.
echo  [1] å®Œæ•´å¯åŠ¨æŒ‡å—.md - è¯¦ç»†çš„çŽ¯å¢ƒé…ç½®å’Œå¯åŠ¨æ­¥éª¤
echo  [2] backend\åŽç«¯ä¿®å¤æŠ¥å‘Š.md - åŽç«¯é—®é¢˜æŽ’æŸ¥æŒ‡å—
echo  [3] backend\æ•°æ®åº“å¯¼å…¥æŒ‡å—.md - æ•°æ®åº“é—®é¢˜è§£å†³æ–¹æ¡ˆ
echo  [4] frontend\QUICKSTART.md - å‰ç«¯å¿«é€Ÿå…¥é—¨
echo  [5] è¿”å›žä¸»èœå•
echo.
set /p doc_choice=  è¯·è¾“å…¥é€‰é¡¹ [1-5]: 

if "%doc_choice%"=="1" start "" "å®Œæ•´å¯åŠ¨æŒ‡å—.md"
if "%doc_choice%"=="2" start "" "backend\åŽç«¯ä¿®å¤æŠ¥å‘Š.md"
if "%doc_choice%"=="3" start "" "backend\æ•°æ®åº“å¯¼å…¥æŒ‡å—.md"
if "%doc_choice%"=="4" start "" "frontend\QUICKSTART.md"
if "%doc_choice%"=="5" goto menu

timeout /t 2 >nul
goto show_docs

:check_env
cls
echo.
echo  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo  â•‘  çŽ¯å¢ƒä¾èµ–æ£€æŸ¥                                          â•‘
echo  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo  [1/4] æ£€æŸ¥ Java çŽ¯å¢ƒ...
java -version 2>nul
if errorlevel 1 (
    echo  âŒ Java æœªå®‰è£…
) else (
    echo  âœ… Java å·²å®‰è£…
)
echo.

echo  [2/4] æ£€æŸ¥ Maven çŽ¯å¢ƒ...
mvn -v 2>nul
if errorlevel 1 (
    echo  âŒ Maven æœªå®‰è£…
) else (
    echo  âœ… Maven å·²å®‰è£…
)
echo.

echo  [3/4] æ£€æŸ¥ Node.js çŽ¯å¢ƒ...
node -v 2>nul
if errorlevel 1 (
    echo  âŒ Node.js æœªå®‰è£…
) else (
    echo  âœ… Node.js å·²å®‰è£…
)
echo.

echo  [4/4] æ£€æŸ¥ MySQL çŽ¯å¢ƒ...
mysql --version 2>nul
if errorlevel 1 (
    echo  âŒ MySQL æœªå®‰è£…æˆ–æœªé…ç½®çŽ¯å¢ƒå˜é‡
) else (
    echo  âœ… MySQL å·²å®‰è£…
)
echo.

echo  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
echo  â”‚  çŽ¯å¢ƒæ£€æŸ¥å®Œæˆï¼                                        â”‚
echo  â”‚                                                        â”‚
echo  â”‚  å¦‚æžœæœ‰ âŒ æ ‡è®°ï¼Œè¯·å…ˆå®‰è£…å¯¹åº”çš„è½¯ä»¶:                  â”‚
echo  â”‚  â€¢ Java: https://adoptium.net/                        â”‚
echo  â”‚  â€¢ Maven: https://maven.apache.org/download.cgi       â”‚
echo  â”‚  â€¢ Node.js: https://nodejs.org/                       â”‚
echo  â”‚  â€¢ MySQL: https://dev.mysql.com/downloads/installer/  â”‚
echo  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
echo.
pause
goto menu

:exit
cls
echo.
echo  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
echo  â”‚  æ„Ÿè°¢ä½¿ç”¨å­¦ç”Ÿæˆç»©ç®¡ç†ç³»ç»Ÿï¼                            â”‚
echo  â”‚  å†è§! ðŸ‘‹                                              â”‚
echo  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
echo.
timeout /t 2 >nul
exit
